import{f as v,j as B,k as C,l as $,c,m as d,o as i,F as j,r as A,a as w,t as q,n as E,q as D,_ as N,u as F,g as H,s as M,b}from"./Ov4o0JRq.js";import{u as O,q as V}from"./CEsL1JzZ.js";import{_ as z}from"./BjQ7BV9P.js";import"./DkCqna6Q.js";import"./CihC4wva.js";const I={key:0,"aria-label":"topics",class:"max-w-4xl flex justify-left md:justify-center items-center gap-2 my-4 mx-0 md:mx-auto border border-transparent rounded-lg overflow-x-scroll md:overflow-visible flex-nowrap md:flex-wrap font-normal md:text-sm sm:text-xl text-white uppercase"},L=["onClick"],P={key:1,class:"text-center text-gray-500"},G=v({__name:"Tags",props:{section:{default:"blog"}},emits:["tagsSelected"],async setup(_,{emit:u}){let s,o;const p=_,f=(t,r="tags")=>{try{return t.reduce((e,a)=>{if(!a)return e;const l=a[r];return l?Array.isArray(l)?[...e,...l]:typeof l=="string"?[...e,l]:e:e},[])}catch(e){return console.error("Error flattening tags:",e),[]}},{data:m,error:x}=([s,o]=B(()=>O("tags",()=>V(p.section).only(["tags"]).where({published:{$ne:!1}}).find())),s=await s,o(),s),g=C(()=>{if(x.value)return console.error("Error fetching tags:",x.value),[];const t=f(m.value||[],"tags");return[...new Set(t)].sort()}),n=$(g.value.reduce((t,r)=>({...t,[r]:!1}),{})),S=u;function T(t){if(t in n){n[t]=!n[t];const r=Object.entries(n).filter(([e,a])=>a).map(([e])=>e);S("tagsSelected",r)}}const k=t=>(t==null?void 0:t.replace(/-/g," "))??"";return(t,r)=>d(g).length?(i(),c("ul",I,[(i(!0),c(j,null,A(d(g),e=>(i(),c("li",{key:e,class:"flex gap-2 justify-center flex-nowrap"},[w("a",{href:"#",onClick:D(a=>T(e),["prevent"]),class:E(["text-blue-700 text-xs bg-blue-200 font-bold px-3 py-1 rounded-xl mr-1 transition-all hover:bg-blue-400 whitespace-nowrap",{"!bg-blue-400":d(n)[e]}])},q(k(e)),11,L)]))),128))])):(i(),c("p",P,"No tags available"))}}),J=N(G,[["__scopeId","data-v-5a705cc9"]]),K={class:"container blog-page m-10"},h="Blog posts",Q="Blog posts by Subodh Dahal",R="",y="/blog",ee=v({__name:"index",setup(_){F({title:h,meta:H({title:h,description:Q,image:R,url:y}),link:[{rel:"canonical",href:`https://subodhdahal.com${y}`}]});let u=M([]);const s=o=>{console.log("Selected tags:",o),u.value=o};return(o,p)=>{const f=J,m=z;return i(),c("div",K,[p[0]||(p[0]=w("h1",{class:"font-bold text-4xl text-center mb-5"}," Blog Articles ",-1)),b(f,{section:"blog",onTagsSelected:s}),b(m,{content:"blog",class:"mt-10",tags:d(u),quantity:100},null,8,["tags"])])}}});export{ee as default};
