import{_ as g}from"./BzLsgWQm.js";import{g as w,q as f,i as y,A as b,o as l,c,F as k,r as q,b as d,w as A,k as C,a as m,t as x,j as B,e as D}from"./B644sJdP.js";import{q as p,u as F}from"./IwbRduqf.js";const N={class:"flex flex-wrap"},v=["src"],V={class:"p-0 pt-4 md:p-6 md:pt-0 xxlmin:w-1/2 xxlmax:w-full"},$={class:"text-2xl font-bold"},j={class:"text-gray-600 dark:text-white"},Q=w({__name:"BlogPosts",props:{tags:{},quantity:{},content:{}},async setup(h){let o,_;const e=h;let r=f([]);r=([o,_]=y(()=>u(e.tags,e.quantity,e.content)),o=await o,_(),o),b(()=>e.tags,async s=>{console.log("Tags changed:",s),r=await u(s,e.quantity,e.content)});async function u(s=[],i=100,a){console.log("Fetching articles with tags:",s),console.log("Query content:",p(a).where({tags:{$contains:s}}).without("body").sort({postDate:-1}).limit(i).find());const{data:n}=await F("articles-home",()=>p(a).where({tags:{$contains:s}}).without("body").sort({postDate:-1}).limit(i).find());return console.log("Fetched articles:",n),n}return(s,i)=>{const a=g,n=D;return l(),c("ul",N,[(l(!0),c(k,null,q(B(r),t=>(l(),c("li",{key:t.url||t._path,class:"xs:w-full md:w-1/2 px-2 xs:mb-6 md:mb-12 mb-6 article-card"},[d(n,{to:t.url||t._path,target:t.url?"_blank":"_self",class:"md:flex transition-shadow duration-150 ease-in-out shadow-sm hover:shadow-md xxlmax:flex-col"},{default:A(()=>[t.image?(l(),c("img",{key:0,class:"w-full md:w-48 xxlmin:w-1/2 xxlmax:w-full h-48 mx-auto object-cover",src:t.image},null,8,v)):C("",!0),m("div",V,[m("h2",$,x(t.title),1),m("p",j,x(t.description),1),d(a,{tags:t.tags,class:"mt-2"},null,8,["tags"])])]),_:2},1032,["to","target"])]))),128))])}}});export{Q as _};
